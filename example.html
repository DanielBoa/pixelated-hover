<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixelated Hover</title>
  <link rel="stylesheet" href="./src/pixelated-hover.css">
  
  <style>
    /* example specific styles */
    html, body { 
      margin: 0;
      background: #222;
    }

    * {
      box-sizing: border-box;
    }

    .layout {
      display: flex;
      flex-direction: column;
      width: calc(100% - 40px);
      margin: 20px;
      max-width: 400px;
    }

    .layout > * {
      width: 100%;
      margin: 0 0 20px 0;
      border: solid 10px #1D1D1D;
    }
  </style>
</head>
<body>
  <main class="layout">
    <a href="#" data-pixelated-hover>
      <img src="https://source.unsplash.com/JdvJIqFPLDA/1920x3233" />
    </a>
    <!-- can optionally specify pixel size -->
    <a href="#" data-pixelated-hover="15">
      <img src="https://source.unsplash.com/97tEm_VSHBs/1920x1920" />
    </a>
  </main>

  <script>
    // The following is used to fix cross-origin issues for the example
    // https://stackoverflow.com/questions/22097747/how-to-fix-getimagedata-error-the-canvas-has-been-tainted-by-cross-origin-data
    Array.from(document.querySelectorAll('img')).forEach(function (img) {
      img.crossOrigin = 'Anonymous';
    });
  </script>
  <script src="./src/pixelated-hover.ts"></script>
</body>
</html>